{"version":3,"file":"static/js/815.73679296.chunk.js","mappings":"8MAGaA,EAAe,SAAC,GAAY,IAAVC,EAAS,EAATA,GAC7B,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACQC,GAAcC,EAAAA,EAAAA,KAAdD,UAQR,OACE,gCACGF,IAAS,wBAAKA,EAAMI,WACrB,mBAAQC,KAAK,SAASC,QAAS,kBATf,SAAAR,GAClBI,EAAUJ,GACPS,KAAKC,QAAQC,IAAI,kBACjBC,OAAM,SAAAV,GAAK,OAAIC,EAASD,EAAb,GACf,CAKwCW,CAAYb,EAAlB,EAA/B,2BAKL,C,8HCnBYc,E,OAAeC,GAAAA,GAAH,mF,kBC8DzB,EA1Da,WACX,OAAsCd,EAAAA,EAAAA,UAAS,IAA/C,eAAOe,EAAP,KAAoBC,EAApB,KACA,GAA4ChB,EAAAA,EAAAA,UAAS,MAArD,eAAOiB,EAAP,KAAuBC,EAAvB,KACMC,GAAWC,EAAAA,EAAAA,MACjB,GAA0BpB,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KAkBA,OAhBAmB,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,MACGd,MAAK,YAAe,IAAZe,EAAW,EAAXA,KACPP,EAAeO,EAChB,IACAZ,OAAM,SAAAV,GAAK,OAAIC,EAASD,EAAb,GACf,GAAE,KAEHoB,EAAAA,EAAAA,YAAU,YACRG,EAAAA,EAAAA,MACGhB,MAAK,YAAe,IAAZe,EAAW,EAAXA,KACPL,EAAkBK,EACnB,IACAZ,OAAM,SAAAV,GAAK,OAAIC,EAASD,EAAb,GACf,GAAE,KAGD,gCACGA,IAAS,wBAAKA,EAAMI,WAErB,SAACQ,EAAD,UACGE,EAAYU,KAAI,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,IAAKC,EAAd,EAAcA,MAAOC,EAArB,EAAqBA,MAArB,OACf,2BACE,SAAC,KAAD,CAAMC,GAAE,WAAMH,GAAOI,MAAO,CAAEC,KAAMb,GAApC,SACGO,KAEH,uBAAIE,KACJ,yBAAIC,EAAJ,WACA,SAAC/B,EAAA,EAAD,CAAcC,GAAI4B,MANXA,EADM,MAYlBV,IACC,iCACE,2DACA,SAACJ,EAAD,WACE,2BACE,SAAC,KAAD,CAAMiB,GAAE,WAAMb,EAAeU,KAAOI,MAAO,CAAEC,KAAMb,GAAnD,SACGF,EAAeS,QAElB,uBAAIT,EAAeW,SACnB,yBAAIX,EAAeY,MAAnB,WACA,SAAC/B,EAAA,EAAD,CAAcC,GAAIkB,EAAeU,QAN1BV,EAAeU,YAanC,C,+IC3DDM,EAAAA,EAAAA,SAAAA,QAAyB,yBACzBA,EAAAA,EAAAA,SAAAA,iBAAiC,EAE1B,IAAMX,EAAc,mCAAG,uGAEbW,EAAAA,EAAAA,IAAU,YAFG,gIAAH,qDAMdC,EAAU,mCAAG,WAAMnC,GAAN,0FAETkC,EAAAA,EAAAA,IAAA,mBAAsBlC,IAFb,gIAAH,sDAMVyB,EAAiB,mCAAG,uGAEhBS,EAAAA,EAAAA,IAAA,mBAFgB,gIAAH,oD","sources":["components/AddToCart/AddToCartBtn.jsx","pages/Home.styled.jsx","pages/Home.jsx","services/productsAPI.js"],"sourcesContent":["import { useState } from 'react';\nimport { useCart } from 'services/cartContext';\n\nexport const AddToCartBtn = ({ id }) => {\n  const [error, setError] = useState(null);\n  const { addToCart } = useCart();\n\n  const handleClick = id => {\n    addToCart(id)\n      .then(console.log('added to cart'))\n      .catch(error => setError(error));\n  };\n\n  return (\n    <>\n      {error && <h1>{error.message}</h1>}\n      <button type=\"button\" onClick={() => handleClick(id)}>\n        Add to cart\n      </button>\n    </>\n  );\n};\n","import styled from 'styled-components';\n\nexport const ListOfMovies = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n","import { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { getProductList, getRecentlyViewed } from 'services/productsAPI';\nimport { ListOfMovies } from './Home.styled';\nimport { AddToCartBtn } from 'components/AddToCart/AddToCartBtn';\n\nconst Home = () => {\n  const [productList, setProductList] = useState([]);\n  const [recentlyViewed, setRecentlyViewed] = useState(null);\n  const location = useLocation();\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    getProductList()\n      .then(({ data }) => {\n        setProductList(data);\n      })\n      .catch(error => setError(error));\n  }, []);\n\n  useEffect(() => {\n    getRecentlyViewed()\n      .then(({ data }) => {\n        setRecentlyViewed(data);\n      })\n      .catch(error => setError(error));\n  }, []);\n\n  return (\n    <>\n      {error && <h1>{error.message}</h1>}\n\n      <ListOfMovies>\n        {productList.map(({ name, _id, color, price }) => (\n          <li key={_id}>\n            <Link to={`/${_id}`} state={{ from: location }}>\n              {name}\n            </Link>\n            <p>{color}</p>\n            <p>{price} UAH</p>\n            <AddToCartBtn id={_id} />\n          </li>\n        ))}\n      </ListOfMovies>\n\n      {recentlyViewed && (\n        <>\n          <h2> Your recenly viewed products</h2>\n          <ListOfMovies>\n            <li key={recentlyViewed._id}>\n              <Link to={`/${recentlyViewed._id}`} state={{ from: location }}>\n                {recentlyViewed.name}\n              </Link>\n              <p>{recentlyViewed.color}</p>\n              <p>{recentlyViewed.price} UAH</p>\n              <AddToCartBtn id={recentlyViewed._id} />\n            </li>\n          </ListOfMovies>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\n// axios.defaults.baseURL = 'https://sb-shop.onrender.com/';\naxios.defaults.baseURL = 'http://localhost:3001/';\naxios.defaults.withCredentials = true;\n\nexport const getProductList = async () => {\n  try {\n    return await axios.get('products');\n  } catch {}\n};\n\nexport const getProduct = async id => {\n  try {\n    return await axios.get(`products/${id}`);\n  } catch (error) {}\n};\n\nexport const getRecentlyViewed = async () => {\n  try {\n    return await axios.get(`products/viewed`);\n  } catch (error) {}\n};\n\nexport const getCart = async () => {\n  try {\n    return await axios.get(`cart`);\n  } catch (error) {}\n};\n\nexport const addToCart = async id => {\n  try {\n    return await axios.post(`cart/${id}`);\n  } catch (error) {}\n};\n"],"names":["AddToCartBtn","id","useState","error","setError","addToCart","useCart","message","type","onClick","then","console","log","catch","handleClick","ListOfMovies","styled","productList","setProductList","recentlyViewed","setRecentlyViewed","location","useLocation","useEffect","getProductList","data","getRecentlyViewed","map","name","_id","color","price","to","state","from","axios","getProduct"],"sourceRoot":""}